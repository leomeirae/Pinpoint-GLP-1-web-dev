---
alwaysApply: true
---

# MOUNJARO TRACKER - CURSOR AI RULES

## PRINCÍPIOS FUNDAMENTAIS

1. **SIMPLICIDADE ACIMA DE TUDO**
   - Arquivos com NO MÁXIMO 300 linhas
   - Se passar de 300 linhas, dividir em arquivos menores
   - Código limpo, sem comentários desnecessários
   - Uma responsabilidade por arquivo

2. **NÃO ALUCINAR**
   - NUNCA inventar bibliotecas que não existem
   - NUNCA criar código sem ter certeza que funciona
   - SEMPRE verificar documentação oficial antes de implementar
   - Se não souber, PERGUNTAR ao usuário

3. **SEGUIR AS TASKS**
   - Executar EXATAMENTE o que está na task
   - NÃO adicionar funcionalidades extras
   - NÃO refatorar código não solicitado
   - NÃO criar arquivos não mencionados na task

4. **TYPESCRIPT STRICT**
   - SEMPRE tipar tudo
   - NUNCA usar `any` (usar `unknown` se necessário)
   - Interfaces claras e bem definidas
   - Evitar código genérico complexo

5. **REACT NATIVE / EXPO**
   - Usar apenas componentes nativos do React Native
   - Evitar bibliotecas externas desnecessárias
   - Código deve funcionar no Expo Go
   - Testar no simulador antes de finalizar

## STACK OBRIGATÓRIA

- **Framework**: Expo (SDK 54+)
- **Autenticação**: Clerk
- **Pagamento**: Clerk Payments (nativo)
- **Database**: Supabase
- **Linguagem**: TypeScript (strict mode)
- **Estilo**: StyleSheet do React Native (sem styled-components)

## ESTRUTURA DE PASTAS
```
mounjaro-tracker/
├── .cursorrules
├── app/                    # Expo Router (file-based routing)
│   ├── (auth)/            # Telas de auth
│   ├── (tabs)/            # Telas principais (tabs)
│   └── _layout.tsx        # Layout raiz
├── components/            # Componentes reutilizáveis
│   ├── ui/               # Componentes de UI básicos
│   └── [feature]/        # Componentes específicos de feature
├── lib/                   # Configurações e utils
│   ├── clerk.ts          # Config Clerk
│   ├── supabase.ts       # Config Supabase
│   └── types.ts          # Types globais
├── hooks/                 # Custom hooks
└── constants/            # Constantes (cores, etc)
```

## REGRAS DE CÓDIGO

### TypeScript
```typescript
// ✅ BOM
interface User {
  id: string;
  email: string;
  name: string;
}

const getUser = async (id: string): Promise<User> => {
  // ...
}

// ❌ RUIM
const getUser = async (id: any) => {
  // ...
}
```

### Componentes
```typescript
// ✅ BOM - Simples, tipado, < 100 linhas
interface ButtonProps {
  label: string;
  onPress: () => void;
  variant?: 'primary' | 'secondary';
}

export function Button({ label, onPress, variant = 'primary' }: ButtonProps) {
  return (
    <Pressable onPress={onPress} style={styles.button}>
      <Text style={styles.text}>{label}</Text>
    </Pressable>
  );
}

// ❌ RUIM - Complexo, genérico demais
export function Button<T extends ButtonVariant>({ ...props }: ButtonProps<T>) {
  // código genérico complexo
}
```

### Hooks
```typescript
// ✅ BOM - Um propósito claro
export function useUser() {
  const { user, isLoaded } = useClerk();
  return { user, isLoaded };
}

// ❌ RUIM - Faz muitas coisas
export function useEverything() {
  // 500 linhas de código
}
```

## REGRAS DE NOMENCLATURA

- **Arquivos**: kebab-case (user-profile.tsx)
- **Componentes**: PascalCase (UserProfile)
- **Funções**: camelCase (getUserProfile)
- **Constantes**: UPPER_SNAKE_CASE (API_URL)
- **Types/Interfaces**: PascalCase (UserProfile)

## TESTING

Antes de marcar uma task como completa:
1. ✅ Código compila sem erros TypeScript
2. ✅ App roda no simulador/Expo Go
3. ✅ Funcionalidade testada manualmente
4. ✅ Sem warnings críticos no console

## O QUE NUNCA FAZER

- ❌ Criar código sem testar
- ❌ Usar bibliotecas não aprovadas
- ❌ Arquivos com mais de 300 linhas
- ❌ Código não tipado
- ❌ Adicionar features não solicitadas
- ❌ Refatorar sem permissão
- ❌ Usar `any` em TypeScript
- ❌ Inventar APIs ou bibliotecas

## FORMATO DE RESPOSTA

Ao completar uma task, SEMPRE responder:
```
✅ TASK-XX COMPLETA

Arquivos criados/modificados:
- path/to/file1.ts
- path/to/file2.tsx

O que foi feito:
- Item 1
- Item 2

Como testar:
1. Comando 1
2. Comando 2

Status: ✅ Testado e funcionando
```

## LEMBRETE FINAL

**VOCÊ É UM ASSISTENTE DE CÓDIGO, NÃO UM ARQUITETO.**

Siga as tasks à risca. Não invente. Não complique. Mantenha simples.

